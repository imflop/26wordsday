{% load template_schema %}

<div id="sidebar-base-col" class="col js-collapsible_sidebar" data-is-open="{{ sidebar.get_is_open }}">
    <div class="sidebar-pos-fixed">
        <div class="row sidebar-row sidebar-row-header">
            <div class="col-12 sidebar-col-logo">
                <div class="sidebar-logo center-on-sidebar-close">
                    {{ sidebar.logo_image }}
                    {{ sidebar.logo_title }}
                </div>
            </div>
        </div>
        <div class="row sidebar-row sidebar-row-body">
            <div class="col-12 sidebar-col-body">
                {% for grouper in sidebar.groupers %}
                    <div class="sidebar-grouper">
                        <div class="grouper-title">
                            <span class="hide-on-sidebar-close">{{ grouper.title }}</span>
                        </div>
                        {% for button in grouper.elements %}
                            <div class="sidebar-btn-wrapper js-collapsible-element-wrapper" data-is-open="{{ button.get_is_open }}">
                                {% include 'components/generic_button.html' with button=button only %}
                                {% if button.is_dropdown %}
                                    <div class="sidebar-sub-btn-wrapper">
                                        {% for sub_button in button.sub_buttons.values %}
                                            {% include 'components/generic_button.html' with button=sub_button only %}
                                        {% endfor %}
                                    </div>
                                {% endif %}
                            </div>
                        {% endfor %}
                    </div>
                {% endfor %}
            </div>
        </div>
        {% if sidebar.collapsible %}
            <div class="row sidebar-row sidebar-row-footer">
                <div class="col-12">
                    <div class="sidebar-toolbar">
                        {% include 'components/generic_button.html' with button=sidebar.get_toggle_button only %}
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
</div>